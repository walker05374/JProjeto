<div>
    <h3>Informações Nutricionais</h3>

    <!-- Campo de input para o usuário digitar o nome do alimento -->
    <input type="text" id="alimento" placeholder="Digite um alimento (ex: maçã)" />

    <!-- Botão para disparar a requisição -->
    <button onclick="obterInformacoesNutricionais()">Obter Informações Nutricionais</button>

    <!-- Exibir os resultados -->
    <div id="calorias"></div>
    <div id="proteinas"></div>
    
    <script>
        function obterInformacoesNutricionais() {
            // Obtém o valor do alimento digitado no campo de input
            var alimento = document.getElementById('alimento').value;

            // Verifica se o campo não está vazio
            if (!alimento) {
                alert("Por favor, insira o nome de um alimento.");
                return;
            }

            // Envia a requisição POST via AJAX com o nome do alimento
            fetch('/informacoes-nutricionais/', {
                method: 'POST',  // Certifique-se de que o método é POST
                headers: {
                    'Content-Type': 'application/json',  // Avisa que o corpo da requisição é JSON
                },
                body: JSON.stringify({
                    "ingredientes": [alimento]  // Envia o alimento digitado
                })
            })
            .then(response => response.json())
            .then(data => {
                // Exibe os dados nutricionais na página
                if (data && data.calories) {
                    document.getElementById("calorias").innerText = "Calorias: " + data.calories;
                    document.getElementById("proteinas").innerText = "Proteínas: " + data.protein;
                } else {
                    alert("Desculpe, não foi possível obter as informações nutricionais.");
                }
            })
            .catch(error => {
                console.error("Erro:", error);
            });
        }
    </script>
</div>
